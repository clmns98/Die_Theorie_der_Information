\section{Pytest}
\sectionauthor{Finja Hoffmann, (Alexander Gitnik)}
Pytest ist ein Testing-Framework für Python, mit welchem sich die Fehlerbehebung und allgemeine Testphase in der Softwareentwicklung automatisieren lässt. Anstatt sich immer mal wieder an ausgewählten Stellen Werte ausgeben zu lassen und diese manuell zu überprüfen, kann man Test-Methoden schreiben, um so automatisiert Fehler zu erkennen. Pytest überprüft mit synthetischen Eingaben die zu testende Funktion und vergleicht die Ausgabe mit dem eingegebenen Erwartungswert.

Das Überprüfen implementiert man durch:

\begin{verbatim}
assert f(A) == B
\end{verbatim}

Hierbei wird die Funktion \texttt{f} mit Eingabe \texttt{A} und Erwartungswert \texttt{B} getestet. 

In einem konkreten Beispiel addiert eine Funktion den eingegebenen Wert mit 2. Hier wird 1 eingegeben und der Erwartungswert ist 3:

\begin{verbatim}
assert add_2(1) == 3
\end{verbatim}

Pytest führt nun die zu testende Methode mit den eingegebenen Werten aus. Durch das \texttt{assert}-statement wird automatisch die Ausgabe überprüft. Sollte die erwartete Ausgabe nicht mit der tatsächlichen Ausgabe übereinstimmen wird eine Fehlermeldung angezeigt. Es wird zudem angezeigt, welche Eingabe und Code-Zeile zur Fehlermeldung geführt haben.

Die zu testende Methode beginnt mit \texttt{test\_}.

Mit dem Dekorator \texttt{@pytest.fixture} vor einer Funktion lässt sich die Eingabe von zu testenden Methoden global definieren und dessen Spezifikationen automatisieren.

Auch kann man Parameter eingeben, bei denen man eine Fehlermeldung erwartet. Es wird überprüft, ob nicht erwartete Eingaben wirklich als Fehler erkannt werden. Dafür gibt es den Befehl

\begin{verbatim}
with pytest.raises({FehlerTyp})
\end{verbatim}

mit dem überprüft wird, ob die Funktion wirklich die erwartete Fehlermeldung zurückgibt.

Weiterhin kann man Funktionen mit einer Test-Methode durch den Dekorator

\begin{verbatim}
@pytest.mark.parametrize({Eingabe})
\end{verbatim}

kennzeichnen. In diesem Fall werden die Ein- und Ausgabewerte paarweise in Klammern untereinandergeschrieben.

Wenn die automatisierten Test-Methoden ohne Fehlermeldung durchlaufen, so ist der Algorithmus scheinbar fehlerfrei. Dabei können Fehler aber nicht vollständig ausgeschlossen werden, da die Testung immer nur so gut ist wie die Ideen-Vielfalt zu potenziellen Fehlerquellen. Nicht bekannte, ungetestete Fehler können nicht vermieden werden.