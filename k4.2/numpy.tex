\section{NumPy}\label{k4.2.ch.NumPy}
\sectionauthor{Cedric Balzer, Leo Bergmann}

Numerisches Python (kurz NumPy) ist eine in der Programmiersprache C geschriebene Libary für Python. Sie ermöglicht das effiziente Rechnen mit Matrizen, mehrdimensionalen Arrays und Vektoren in Python.

NumPy ist eine open-source Library, welche auf den früheren Python-Modulen Numeric und Numarray basiert. Da Python nicht für numerische Rechnung optimiert ist, greift NumPy auf C-Code zurück. Eine der Kernfunktionalitäten von NumPy ist das sogenannte \lsin{np.ndarray()}, das ein beliebig-dimensionales Array repräsentiert. Im Gegensatz zu Python-Listen müssen alle im Array gespeicherten Elemente vom selben Datentyp sein, zudem ist die Größe eines NumPy-Arrays statisch. Dies ermöglicht im Vergleich zu Listen eine schnellere Handhabung.

NumPy ist nicht im Python3-Standard enthalten und muss daher separat installiert werden:

\begin{lstlisting}
pip install numpy
\end{lstlisting}

Möchte man ein Array aus einer Liste erstellen, bietet sich folgender Code an:

\begin{lstlisting}[language=python]
>>> import numpy as np
>>> a = np.array([1, 2, 3, 4, 5])
>>> a
array([1, 2, 3, 4, 5])
\end{lstlisting}

Besteht eine übergebene Liste aus mehreren Teillisten wird ein mehrdimensionales Array erstellt:

\begin{lstlisting}[language=python]
>>> m1 = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])
>>> m1
array([[1,2,3],
       [4,5,6],
       [7,8,9]])
\end{lstlisting}

Möchte man auf ein Element eines eindimensionalen Arrays zugreifen, so funktioniert dies wie bei Listen. Um in mehrdimensionalen NumPy-Arrays Werte zu selektieren, wird folgende Syntax verwendet:

\begin{lstlisting}[language=python]
>>> m1[0, 0], m1[2, -1]
1, 9
\end{lstlisting}

Auf Arrays können elementweise Rechenoperatoren, wie Plus und Minus, angewandt werden. Es werden stets neue Arrays erzeugt und die Original-Arrays bleiben unverändert.

\begin{lstlisting}[language=python]
>>> r = np.arange(10)
>>> r
array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
>>> r+1
array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
>>> r**2
array([0, 1, 4, 9, 16, 25, 36, 49, 64, 81])
\end{lstlisting}

Des Weiteren sind in NumPy spezielle Operationen für Matrizen und Vektoren implementiert. Beispielsweise können mit \verb|np.dot()|, \verb|np.inner()| und \verb|np.outer()| Multiplikationen von Matrizen beziehungsweise Vektoren durchgeführt werden (siehe \cref{k4.2.linalg} für eine mathematische Beschreibung).

\begin{lstlisting}[language=python]
>>> np.dot([[1, 0], [0, 1]], [[4, 1], [2, 2]])
array([[4, 1],
       [2, 2]])
\end{lstlisting}

Neben \verb|np.dot()| liefert NumPy den Operator \verb|@| (und alternativ \verb|np.matmul()|), welcher ebenfalls Arrays und Matrizen multipliziert.
Bei einer Multiplikation von Vektoren und 2D Matrizen erzeugen diese Funktionen identischen Output:

\begin{itemize}
    \item Skalarmultiplikation zweier Vektoren

        \begin{lstlisting}[language=python]
>>> a = np.array([1, 2])
>>> b = np.array([2, 2])
>>> np.dot(a, b)
6
>>> a @ b
6
\end{lstlisting}

  \item Multiplikation zweier Matrizen

        \begin{lstlisting}[language=python]
>>> a = np.array([[1, 2],[5, 3]])
>>> b = np.array([[2, 2],[8, 1]])
>>> np.dot(a, b)
array([[18  4]
       [34 13]])
>>> a @ b
array([[18  4]
       [34 13]])
\end{lstlisting}

\end{itemize}

NumPy ist also die Standardbibliothek für effiziente Matrix-Vektor-Rechnung in Python. Sie liefert die Grundlagen für viele wissenschaftliche Arbeiten, so auch für unser Projekt, um Bayes'sche Bildgebungsalgorithmen zu implementieren.
